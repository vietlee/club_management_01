<section class="site-content site-section">
  <div class="container">
    <div class="row">
      <div class="push-bit">
        <h1 class="text-center"><%= t "other_club" %></h1><br>
      </div>
      <div class="col-md-4 col-lg-3">
        <aside class="sidebar site-block">
          <div class="sidebar-block">
            <%= search_form_for @q, class: "form-horizontal" do |f| %>
              <div class="form-group push-bit">
                <div class="col-xs-12">
                  <div class="input-group" id="search-other-club">
                    <%= f.text_field :name_or_content_cont,
                      class: "form-control form-search-other-clubs",
                      placeholder: t("name_des") %>
                    <div class="input-group-btn">
                      <button type="submit" class="btn btn-primary">
                        <i class="fa fa-search"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div><hr>
              <h4 class="text-center"><strong><%= t "filters" %></strong></h4>
              <div class="form-group">
                <div class="col-sm-8 col-md-12">
                  <%= select_tag :stype_organizations,
                    options_for_select(@organizations.map{|organization|
                      [organization.name, organization.id]}
                    .unshift([t("organization_filter"), nil]),
                     include_blank: true),
                    {class: "form-control stype-organizations-other-clubs"} %>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-8 col-md-12">
                  <%= select_tag :stype_clubs, options_for_select(
                    Club.club_types.map{|k, v| [t("#{k}"), v]}
                      .unshift([t("style_filter"), nil]),
                    include_blank: true),
                    {class: "form-control stype-other-clubs"} %>
                </div>
              </div><hr>
              <div class="form-group">
                <%= render "shared/rate_filter" %>
              </div><hr>
              <h4 class="-header"><strong><%= t "sort_by" %></strong></h4>
              <div class="form-group">
                <div class="col-xs-12">
                  <%= sort_link(@q, :name,
                    [:name, "name asc"], t("name_club")) %>
                  <br>
                  <%= sort_link(@q, :rating,
                    [:rating, "rating desc"], t("for_rating")) %>
                  <br>
                  <%= sort_link(@q, :created_at,
                    [:created_at, "created_at desc"], t("created_at")) %>
                </div>
                <hr>
              </div>
            <% end %>
          </div>
        </aside>
      </div>
      <div class="col-md-8 col-lg-9" id="list-other-club">
        <% if @user_organizations.any? %>
          <% if clubs.any? %>
            <%= render partial: "shared/list_club", locals: {clubs: clubs} %>
          <% else %>
            <h4 class="notifi-join center"><%= t "no_data" %></h4>
          <% end %>
        <% else %>
          <h4 class="notifi-join"><%= t "no_data_club_organization" %></h4 >
          <h4>
            <span><%= t "let_join_organization" %></span>
            <%= link_to t("here"), organizations_path, target: :blank,
              class: "btn btn-danger" %>
          </h4>
        <% end %>
        <div class="form-inline push-bit clearfix">
          <div class="pull-right">
            <% if @user_organizations.any? %>
              <%= paginate clubs %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
